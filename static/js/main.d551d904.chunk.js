(this["webpackJsonpnatural-hr-react-task"]=this["webpackJsonpnatural-hr-react-task"]||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),s=(a(98),a(99),a(7)),l=a(14),m=a(12),u=a(137),i=a(139),d=a(130),E=a(136),p=a(81),_=a(78),b=a(4),g=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("pretend-json-token","0000"),localStorage.setItem("user",t.payload.username),Object(b.a)(Object(b.a)({},e),{},{loadingAuth:!1,loggedInUser:t.payload.username,isAuthenticated:!0,authMsg:null});case"LOGIN_FAILED":return localStorage.removeItem("pretend-json-token"),localStorage.removeItem("user"),Object(b.a)(Object(b.a)({},e),{},{loadingAuth:!1,loggedInUser:"",isAuthenticated:!1,authMsg:"Error logging in. Please check the credentials you entered were correct"});case"CHECK_AUTH":return Object(b.a)(Object(b.a)({},e),{},{loadingAuth:!1,loggedInUser:localStorage.getItem("user"),isAuthenticated:!0,authMsg:null});case"CHECK_AUTH_FAILED":return localStorage.removeItem("pretend-json-token"),localStorage.removeItem("user"),Object(b.a)(Object(b.a)({},e),{},{loadingAuth:!1,loggedInUser:"",isAuthenticated:!1,authMsg:null});case"LOGOUT":return localStorage.removeItem("pretend-json-token"),localStorage.removeItem("user"),Object(b.a)(Object(b.a)({},e),{},{loadingAuth:!1,loggedInUser:"",isAuthenticated:!1,authMsg:"Successfully logged out"});case"CLEAR_AUTH":return Object(b.a)(Object(b.a)({},e),{},{authMsg:null});default:return e}},O=Object(n.createContext)(),f=Object(n.createContext)(),C=function(e){var t={loadingAuth:!1,isAuthenticated:"0000"===localStorage.getItem("pretend-json-token"),loggedInUser:"",authMsg:null},a=Object(n.useReducer)(g,t),c=Object(s.a)(a,2),o=c[0],l=c[1],m={login:function(e){_.map((function(t){return t.username===e.username&&t.password===e.password?l({type:"LOGIN",payload:e}):l({type:"LOGIN_FAILED"})}))},checkAuth:Object(n.useCallback)((function(){"0000"===localStorage.getItem("pretend-json-token")?l({type:"CHECK_AUTH"}):l({type:"CHECK_AUTH_FAILED"})}),[]),logout:function(){l({type:"LOGOUT"})},clearAuthMsg:Object(n.useCallback)((function(){l({type:"CLEAR_AUTH"})}),[])};return r.a.createElement(O.Provider,{value:o},r.a.createElement(f.Provider,{value:m},e.children))},h=a(47),y=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1];return[r,function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(h.a)({},a,n))}))},function(){c(e)}]},v=Object(m.h)((function(e){var t=Object(n.useContext)(O),a=t.isAuthenticated,c=t.loggedInUser,o=Object(n.useContext)(f).logout,m=y(""),_=Object(s.a)(m,2),b=_[0],g=_[1];return r.a.createElement(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(u.a.Brand,{as:l.c,to:"/"},"Natural HR React Task"),r.a.createElement(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(u.a.Collapse,{id:"navbar"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"mr-auto"},r.a.createElement(d.a,{className:"mr-auto",title:c,id:"collasible-nav-dropdown"},r.a.createElement(d.a.Item,{as:l.c,to:"/users/myaccount"},"My Account"),r.a.createElement(d.a.Divider,null),r.a.createElement(d.a.Item,{onClick:function(e){e.preventDefault(),o()}},"Logout"))),r.a.createElement(E.a,{inline:!0,onSubmit:function(t){t.preventDefault(),e.history.push("/posts/".concat(b.searchParam))}},r.a.createElement(E.a.Control,{type:"text",name:"searchParam",value:b.searchParam||"",onChange:g,placeholder:"Search Posts ID",size:"sm",className:"mr-sm-2"}),r.a.createElement(p.a,{type:"submit",variant:"outline-light",size:"sm"},"Search"))):r.a.createElement(i.a,{className:"ml-auto"},r.a.createElement(i.a.Link,{as:l.c,to:"/login"},"Login"),r.a.createElement(i.a.Link,{as:l.c,to:"/register"},"Register"))))})),j=a(92),P=function(e){var t=e.component,a=Object(j.a)(e,["component"]),c=Object(n.useContext)(O).isAuthenticated;return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))},S=a(83),A=a.n(S),w=function(e){var t=e.title;return r.a.createElement("div",{className:A.a.header},r.a.createElement("h5",null,t))},T=a(10),x=a.n(T),L=a(16),M=a(17),N=a.n(M),k=function(e,t){switch(t.type){case"GET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:t.payload,loadingUsers:!1,usersMsg:null,usersError:!1});case"GET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:[],loadingUsers:!1,usersMsg:"Error occured trying to find users",usersError:!0});case"GET_CURRENT_USER":return Object(b.a)(Object(b.a)({},e),{},{currentUsername:t.payload.username,loadingUser:!1,usersMsg:null,usersError:!1});case"GET_CURRENT_USER_FAILED":return Object(b.a)(Object(b.a)({},e),{},{currentUsername:null,loadingUser:!1,usersMsg:"Error occured trying to find this user",usersError:!0});case"CLEAR_USERS":case"CLEAR_USER":return Object(b.a)(Object(b.a)({},e),{},{loadingUser:!0,loadingUsers:!0,usersMsg:null,usersError:!1,currentUsername:null});case"CLEAR_MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{usersError:!1});default:return e}},I="https://jsonplaceholder.typicode.com/",D=Object(n.createContext)(),U=Object(n.createContext)(),G=function(e){var t=Object(n.useReducer)(k,{users:[],currentUsername:null,loadingUsers:!0,loadingUser:!0,usersMsg:"",usersError:!1}),a=Object(s.a)(t,2),c=a[0],o=a[1],l={getUsers:Object(n.useCallback)(Object(L.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(I,"users"));case 3:t=e.sent,o({type:"GET_USERS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"GET_USERS"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),getCurrentUser:Object(n.useCallback)(function(){var e=Object(L.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(I,"users/").concat(t));case 3:a=e.sent,o({type:"GET_CURRENT_USER",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"GET_CURRENT_USER_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),clearUser:Object(n.useCallback)((function(){o({type:"CLEAR_USER"})}),[]),clearUsers:function(){o({type:"CLEAR_USERS"})},resetError:Object(n.useCallback)((function(){o({type:"CLEAR_MESSAGE"})}),[])};return r.a.createElement(D.Provider,{value:c},r.a.createElement(U.Provider,{value:l},e.children))},R=a(84),F=a.n(R),H=function(e){var t=e.title;return e.isLoading&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1.5em"}},r.a.createElement("p",null,t),r.a.createElement(F.a,{type:"bars",color:"gray",height:"5%",width:"5%"}))},z=a(85),q=a.n(z),B=function(e){return r.a.createElement("div",{className:q.a.grid_container},e.children)},K=a(86),J=a.n(K),Z=function(e){return r.a.createElement("div",{className:J.a.card_container},e.children)},W=a(25),Y=a.n(W),Q=function(e){var t=e.id,a=e.phone,n=e.email,c=e.suite,o=e.street,s=e.city,m=e.zipcode,u=e.name,i=e.username,d=e.website,E=e.company;return r.a.createElement(Z,null,r.a.createElement("div",{className:Y.a.user_card__details},r.a.createElement("div",{className:Y.a.user_card__avatar},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("h5",{className:Y.a.user_card__name},u),r.a.createElement("p",{className:Y.a.user_card__username},"username: ",i),r.a.createElement("p",{className:Y.a.user_card__website},"website: ",d)),r.a.createElement("p",{className:Y.a.user_card__company},"Company: ",E),r.a.createElement("div",{className:Y.a.user_card__address},r.a.createElement("p",null,"Address"),r.a.createElement("ul",null,r.a.createElement("li",null,"Street: ",o),r.a.createElement("li",null,"suite: ",c),r.a.createElement("li",null,"city: ",s),r.a.createElement("li",null,"zipcode: ",m))),r.a.createElement("div",{className:Y.a.user_card__contact},r.a.createElement("p",{className:Y.a.user_card__email},n),r.a.createElement("p",{className:Y.a.user_card__phone},"Contact: ",a)),r.a.createElement("div",{className:Y.a.user_card__controls},r.a.createElement(l.b,{to:"/users/".concat(t,"/posts")},r.a.createElement(p.a,{variant:"outline-dark",size:"sm"},r.a.createElement("i",{className:"fas fa-comment-alt"}),"Posts"))))},X=a(131),$=function(e){var t=e.reset,a=e.error,c=e.message;return Object(n.useEffect)((function(){if(t)return function(){t()}}),[t]),t||c?r.a.createElement(X.a,{variant:"danger",show:a},c):null},V=function(){var e=Object(n.useContext)(D),t=e.users,a=e.loadingUsers,c=e.usersError,o=e.usersMsg,s=Object(n.useContext)(U),l=s.getUsers,m=s.resetError;return Object(n.useEffect)((function(){l()}),[l]),r.a.createElement("div",null,r.a.createElement($,{reset:m,error:c,message:o}),r.a.createElement(H,{isLoading:a,title:"Loading All Users"}),r.a.createElement(B,null,t.map((function(e){return r.a.createElement(Q,{key:e.id,id:e.id,name:e.name,username:e.username,email:e.email,street:e.address.street,suite:e.address.suite,city:e.address.city,zipcode:e.address.zipcode,website:e.website,phone:e.phone,company:e.company.name})}))))},ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{title:"All Users"}),r.a.createElement(V,null))},te=a(132),ae=a(133),ne=a(134),re=a(82),ce=function(e){var t=e.location,a=Object(n.useContext)(f),c=a.login,o=a.clearAuthMsg,m=Object(n.useContext)(O),u=m.authMsg,i=m.isAuthenticated,d=y(""),_=Object(s.a)(d,2),b=_[0],g=_[1];return Object(n.useEffect)((function(){return i&&t("/"),function(){o()}}),[i,t,o]),r.a.createElement(te.a,{className:"mt-5"},r.a.createElement(ae.a,{className:"shadow-sm bg-white rounded border border-light"},r.a.createElement(ne.a,{className:"d-flex justify-content-lg-center"},r.a.createElement(re.a,null,r.a.createElement($,{error:!i,message:u}),r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),c(b)}},r.a.createElement(E.a.Group,{controlId:"username"},r.a.createElement(E.a.Label,null,"Username"),r.a.createElement(E.a.Control,{type:"text",name:"username",value:b.username||"",onChange:g,placeholder:"Enter Username",required:!0})),r.a.createElement(E.a.Group,{controlId:"password"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(E.a.Control,{type:"password",name:"password",value:b.password||"",onChange:g,placeholder:"Password",required:!0})),r.a.createElement(p.a,{variant:"dark",type:"submit"},"Login")),r.a.createElement("p",{className:"mt-4"},"Dont have an account? Create one ",r.a.createElement(l.c,{to:"/register"},"here"))))))},oe=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{title:"Log in to continue"}),r.a.createElement(ce,{location:e.history.push}))},se=function(e){return r.a.createElement(te.a,{className:"mt-5"},r.a.createElement(ae.a,{className:"shadow-sm bg-white rounded border border-light"},r.a.createElement(ne.a,{className:"d-flex justify-content-lg-center"},r.a.createElement(re.a,null,r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault()}},r.a.createElement(E.a.Group,{controlId:"username"},r.a.createElement(E.a.Label,null,"Username"),r.a.createElement(E.a.Control,{type:"text",name:"username",placeholder:"Enter Username",required:!0})),r.a.createElement(E.a.Group,{controlId:"username"},r.a.createElement(E.a.Label,null,"Email"),r.a.createElement(E.a.Control,{type:"email",name:"email",placeholder:"Enter Email",required:!0})),r.a.createElement(E.a.Group,{controlId:"password"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(E.a.Control,{type:"password",name:"password",placeholder:"Password",required:!0,minLength:"6"})),r.a.createElement(p.a,{variant:"dark",type:"submit"},"Register"))))))},le=function(){return r.a.createElement("div",null,r.a.createElement(w,{title:"Create A New Account"}),r.a.createElement(se,null))},me=a(59),ue=function(e,t){switch(t.type){case"GET_USER_POSTS":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,userPosts:t.payload,postsMsg:null,postsError:!1});case"GET_POSTS_FAILED":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,userPosts:[],postsMsg:"Something went wrong getting the posts",postsError:!0});case"GET_POST":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,post:t.payload,postsMsg:null,postsError:!1});case"GET_POST_FAILED":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,post:{},postsMsg:"Something went wrong getting this post",postsError:!0});case"ADD_POST":return Object(b.a)(Object(b.a)({},e),{},{userPosts:[].concat(Object(me.a)(e.userPosts),[t.payload]),inProgress:!1,postsMsg:"Added post",postsError:!1});case"ADD_POST_FAILED":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!1,postsMsg:"Something went wrong adding the post",postsError:!0});case"EDIT_POST":return Object(b.a)(Object(b.a)({},e),{},{userPosts:e.userPosts.map((function(e){return e.id===t.payload.id?t.payload:e})),inProgress:!1,postsMsg:"Edited post successfully",postsError:!1});case"EDIT_POST_FAILED":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!1,postsMsg:"Something went wrong editing the post",postsError:!0});case"DELETE_POST":return Object(b.a)(Object(b.a)({},e),{},{userPosts:e.userPosts.filter((function(e){return e.id!==t.payload})),inProgress:!1,postsMsg:"Deleted post",postsError:!1});case"DELETE_POST_FAILED":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!1,postsMsg:"Something went wrong deleting the post",postsError:!0});case"CLEAR_POST":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,inProgress:!1,postsMsg:null,postsError:!1,post:{}});case"CLEAR_USERS_POSTS":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!1,loading:!0,postsError:!1,userPosts:[]});case"CLEAR_MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{postsError:!1});case"COMMENT_ACTION_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!0});default:return e}},ie=Object(n.createContext)(),de=Object(n.createContext)(),Ee=function(e){var t=Object(n.useReducer)(ue,{post:{},userPosts:[],postsMsg:null,loading:!0,inProgress:!1,postsError:!1}),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useCallback)(function(){var e=Object(L.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(I,"users/").concat(t,"/posts"));case 3:a=e.sent,o({type:"GET_USER_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({GET_POSTS_FAILED:"GET_POSTS_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),m=Object(n.useCallback)(function(){var e=Object(L.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(I,"posts/").concat(t));case 3:a=e.sent,o({type:"GET_POST",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"GET_POST_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),u=function(){var e=Object(L.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("".concat(I,"posts"),t);case 3:a=e.sent,o({type:"ADD_POST",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"ADD_POST_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(L.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.put("".concat(I,"posts/").concat(a),t);case 3:n=e.sent,o({type:"EDIT_POST",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"EDIT_POST_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(L.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("".concat(I,"posts/").concat(t));case 3:o({type:"DELETE_POST",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o({type:"DELETE_POST_FAILED"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),E={getUserPosts:l,getPost:m,clearPost:Object(n.useCallback)((function(){o({type:"CLEAR_POST"})}),[]),clearUserPosts:Object(n.useCallback)((function(){o({type:"CLEAR_USERS_POSTS"})}),[]),addPost:u,editPost:i,deletePost:d,postActionProgress:function(){return o({type:"COMMENT_ACTION_PROGRESS"})},resetError:Object(n.useCallback)((function(){o({type:"CLEAR_MESSAGE"})}),[])};return r.a.createElement(ie.Provider,{value:c},r.a.createElement(de.Provider,{value:E},e.children))},pe=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1];return[r,function(){c(!r)}]},_e=a(135),be=function(){return!1},ge=function(e){var t=e.type,a=e.id,n=e.show,c=e.deleteFunction,o=e.onHide,s=e.progressFunction,l=e.isLoading,m=e.resetError,u=e.message,i=e.error;return r.a.createElement(_e.a,{show:n,onHide:l?be:o,size:"md",centered:!0},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null,"Delete ",t)),r.a.createElement(_e.a.Body,null,r.a.createElement($,{error:i,reset:m,message:u}),r.a.createElement(H,{isLoading:l,title:"Deleting ".concat(t)}),r.a.createElement("p",null,"Are you sure you want to delete this ",t.toLowerCase(),"?")),r.a.createElement(_e.a.Footer,{className:"d-flex justify-content-between"},r.a.createElement(p.a,{variant:"danger",onClick:function(e){e.preventDefault(),s(),c(a)}},"Delete"),r.a.createElement(p.a,{variant:"dark",onClick:o,disabled:!!l},"Close")))},Oe=a(35),fe=function(e){var t=e.type,a=e.editOnClick,n=e.deleteOnClick;return r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Toggle,{variant:"dark",size:"sm"},"Actions"),r.a.createElement(Oe.a.Menu,null,r.a.createElement(Oe.a.Item,{onClick:a},"Edit ",t),r.a.createElement(Oe.a.Item,{onClick:n},"Delete ",t)))},Ce=a(61),he=a.n(Ce),ye=function(e){var t=e.title,a=e.body,c=e.onHide,o=e.id,l=Object(n.useContext)(de),m=l.editPost,u=l.postActionProgress,i=l.resetError,d=Object(n.useContext)(ie),_=d.inProgress,b=d.postsMsg,g=d.postsError,O=y({title:t,body:a}),f=Object(s.a)(O,2),C=f[0],h=f[1];return r.a.createElement(_e.a,{show:e.show,onHide:_?be:c,size:"lg",centered:!0},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null,'Edit Post "',t,'"')),r.a.createElement(_e.a.Body,null,r.a.createElement($,{reset:i,error:g,message:b}),r.a.createElement(H,{isLoading:_,title:"Editing Post"}),r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),u(),m(C,o)}},r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"title"},"Title"),r.a.createElement(E.a.Control,{type:"text",name:"title",value:C.title,onChange:h,required:!0})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"body"},"Post"),r.a.createElement(E.a.Control,{type:"text",name:"body",value:C.body,onChange:h,required:!0})),r.a.createElement(p.a,{variant:"dark",type:"submit"},"Save Edit"))),r.a.createElement(_e.a.Footer,null,r.a.createElement(p.a,{variant:"dark",type:"button",onClick:c,disabled:!!_},"Close")))},ve=function(e){var t=e.id,a=e.body,c=e.title,o=Object(n.useContext)(de),m=o.postActionProgress,u=o.deletePost,i=o.resetError,d=Object(n.useContext)(ie),E=d.inProgress,_=d.postsError,b=d.postsMsg,g=pe(!1),O=Object(s.a)(g,2),f=O[0],C=O[1],h=pe(!1),y=Object(s.a)(h,2),v=y[0],j=y[1];return r.a.createElement(Z,null,r.a.createElement("div",null,r.a.createElement("h4",{className:he.a.posts_card__title},c)),r.a.createElement("div",null,r.a.createElement("p",{className:he.a.posts_card__body},a)),r.a.createElement("div",{className:he.a.posts_card__controls},r.a.createElement(l.b,{to:"/posts/".concat(t)},r.a.createElement(p.a,{variant:"outline-dark",size:"sm"},r.a.createElement("i",{className:"fas fa-comments"})," Comments")),r.a.createElement(fe,{editOnClick:j,deleteOnClick:C,type:"Post"})),f&&r.a.createElement(ge,{type:"Post",show:f,onHide:C,progressFunction:m,inProgress:E,deleteFunction:u,id:t,isLoading:E,error:_,resetError:i,message:b}),v&&r.a.createElement(ye,{show:v,id:t,onHide:j,title:c,body:a}))},je=function(e){var t=Object(n.useContext)(de),a=t.getUserPosts,c=t.clearUserPosts,o=Object(n.useContext)(ie),s=o.userPosts,l=o.loading;return Object(n.useEffect)((function(){return a(e.id),function(){c()}}),[a,c,e.id]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{isLoading:l,title:"Loading Users Posts"}),r.a.createElement(B,null,s.map((function(e){return r.a.createElement(ve,{key:e.id,id:e.id,title:e.title,body:e.body})}))))},Pe=function(e){var t=e.match.params.id,a=Object(n.useContext)(U),c=a.getCurrentUser,o=a.clearUser,s=Object(n.useContext)(D),l=s.currentUsername,m=s.loadingUser;Object(n.useEffect)((function(){return c(t),function(){o()}}),[c,t,o]);return r.a.createElement("div",null,l||m?r.a.createElement(w,{title:m?"Loading username...":"See what ".concat(l," has posted")}):r.a.createElement(w,{title:"Username not found!"}),r.a.createElement(je,{id:t}))},Se=a(88),Ae=a.n(Se),we=function(e){return r.a.createElement("div",{className:Ae.a.centered_div},e.children)},Te=a(62),xe=a.n(Te),Le=function(e){var t=e.id,a=Object(n.useContext)(de),c=a.getPost,o=a.clearPost,s=a.resetError,l=Object(n.useContext)(ie),m=l.post,u=l.loading,i=l.postsError,d=l.postsMsg;return Object(n.useEffect)((function(){return c(t),function(){o()}}),[c,o,t]),r.a.createElement("div",null,r.a.createElement($,{reset:s,error:i,message:d}),r.a.createElement(H,{isLoading:u,title:"Loading Post"}),r.a.createElement("div",{className:xe.a.post_content},r.a.createElement("h4",{className:xe.a.post_content__title},m.title),r.a.createElement("p",{className:xe.a.post_content__body},m.body)))},Me=function(e,t){switch(t.type){case"GET_COMMENTS":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,comments:t.payload,commentsMsg:"",commentsError:!1});case"GET_COMMENTS_FAILED":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,comments:[],commentsMsg:"Something went wrong getting the comments",commentsError:!0});case"ADD_COMMENT":return Object(b.a)(Object(b.a)({},e),{},{comments:[].concat(Object(me.a)(e.comments),[t.payload]),commentsMsg:"Comment added",inProgress:!1,commentsError:!1});case"ADD_COMMENT_FAILED":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!1,commentsMsg:"Error ocurred adding the comment",commentsError:!0});case"EDIT_COMMENT ":return Object(b.a)(Object(b.a)({},e),{},{comments:e.comments.map((function(e){return e.id===t.payload.id?t.payload:e})),commentsMsg:"Comment successfully edited",inProgress:!1,commentsError:!1});case"EDIT_COMMENT_FAILED":return Object(b.a)(Object(b.a)({},e),{},{commentsMsg:"Error ocurred updating the comment",inProgress:!1,commentsError:!0});case"DELETE_COMMENT":return Object(b.a)(Object(b.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.payload})),commentsMsg:"Deleted comment",inProgress:!1,commentsError:!1});case"DELETE_COMMENT_FAILED":return Object(b.a)(Object(b.a)({},e),{},{commentsMsg:"Error deleting comment",inProgress:!1,commentsError:!0});case"CLEAR_COMMENTS":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,inProgress:!1,commentsMsg:null,commentsError:!1,comments:[]});case"CLEAR_MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{commentsError:!1});case"COMMENT_ACTION_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{inProgress:!0});default:return e}},Ne=Object(n.createContext)(),ke=Object(n.createContext)(),Ie=function(e){var t=Object(n.useReducer)(Me,{comments:[],loading:!0,CommentsMsg:null,inProgress:!1,commentsError:!1}),a=Object(s.a)(t,2),c=a[0],o=a[1],l={getComments:Object(n.useCallback)(function(){var e=Object(L.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(I,"posts/").concat(t,"/comments"));case 3:a=e.sent,o({type:"GET_COMMENTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"GET_COMMENTS_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),addComment:function(){var e=Object(L.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("".concat(I,"comments/"),t);case 3:a=e.sent,o({type:"ADD_COMMENT",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"ADD_COMMENT_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),editComment:function(){var e=Object(L.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.put("".concat(I,"comments/").concat(a),t);case 3:n=e.sent,o({type:"EDIT_COMMENT ",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"EDIT_COMMENT_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),deleteComment:function(){var e=Object(L.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("".concat(I,"comments/").concat(t));case 3:o({type:"DELETE_COMMENT",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o({type:"DELETE_COMMENT_FAILED"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),clearComments:Object(n.useCallback)((function(){o({type:"CLEAR_COMMENTS"})}),[]),commentActionProgress:function(){return o({type:"COMMENT_ACTION_PROGRESS"})},resetError:Object(n.useCallback)((function(){o({type:"CLEAR_MESSAGE"})}),[])};return r.a.createElement(Ne.Provider,{value:c},r.a.createElement(ke.Provider,{value:l},e.children))},De=function(e){var t=e.name,a=e.body,c=e.id,o=e.onHide,l=e.email,m=Object(n.useContext)(ke),u=m.editComment,i=m.commentActionProgress,d=m.resetError,_=Object(n.useContext)(Ne),b=_.inProgress,g=_.commentsMsg,O=_.commentsError,f=y({name:t,body:a,email:l}),C=Object(s.a)(f,2),h=C[0],v=C[1];return r.a.createElement(_e.a,{show:e.show,onHide:b?be:e.onHide,size:"lg",centered:!0},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null,'Edit Comment "',t,'"')),r.a.createElement(_e.a.Body,null,r.a.createElement($,{reset:d,error:O,message:g}),r.a.createElement(H,{isLoading:b,title:"Editing Comment"}),r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),i(),u(h,c)}},r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"name"},"Comment Name"),r.a.createElement(E.a.Control,{type:"text",name:"name",value:h.name||"",onChange:v,required:!0})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"body"},"Comment"),r.a.createElement(E.a.Control,{type:"text",name:"body",value:h.body||"",onChange:v,required:!0})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"email"},"Email"),r.a.createElement(E.a.Control,{type:"email",name:"email",value:h.email||"",onChange:v,required:!0})),r.a.createElement(p.a,{variant:"dark",type:"submit"},"Save Edit"))),r.a.createElement(_e.a.Footer,null,r.a.createElement(p.a,{variant:"dark",type:"button",onClick:o,disabled:!!b},"Close")))},Ue=a(37),Ge=a.n(Ue),Re=function(e){var t=e.name,a=e.email,c=e.body,o=e.id,l=pe(!1),m=Object(s.a)(l,2),u=m[0],i=m[1],d=pe(!1),E=Object(s.a)(d,2),p=E[0],_=E[1],b=Object(n.useContext)(ke),g=b.deleteComment,O=b.commentActionProgress,f=b.resetError,C=Object(n.useContext)(Ne),h=C.inProgress,y=C.commentsError,v=C.commentsMsg;return r.a.createElement("div",{className:Ge.a.comment},r.a.createElement("p",{className:Ge.a.comment__email},a),r.a.createElement("p",{className:Ge.a.comment__name},t),r.a.createElement("p",{className:Ge.a.comment__body},c),r.a.createElement("div",{className:Ge.a.comment__controls},r.a.createElement(fe,{editOnClick:i,deleteOnClick:_,type:"Comment"})),p&&r.a.createElement(ge,{id:o,type:"Comment",deleteFunction:g,show:p,onHide:_,progressFunction:O,isLoading:h,resetError:f,message:v,error:y}),u&&r.a.createElement(De,{id:o,name:t,body:c,email:a,show:u,onHide:i}))},Fe=function(e){var t=e.onHide,a=e.show,c=Object(n.useContext)(ke),o=c.addComment,l=c.commentActionProgress,m=c.resetError,u=Object(n.useContext)(Ne),i=u.inProgress,d=u.commentsError,_=u.commentsMsg,b=y(""),g=Object(s.a)(b,2),O=g[0],f=g[1];return r.a.createElement(_e.a,{show:a,onHide:i?be:t,size:"lg",centered:!0},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null,"Add Comment")),r.a.createElement(_e.a.Body,null,r.a.createElement($,{reset:m,error:d,message:_}),r.a.createElement(H,{isLoading:i,title:"Adding Comment"}),r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),l(),o(O)}},r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"name"},"Comment Name"),r.a.createElement(E.a.Control,{type:"text",name:"name",value:O.name||"",onChange:f,placeholder:"Comment Name",required:!0})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"Comment"},"Comment"),r.a.createElement(E.a.Control,{type:"text",name:"body",value:O.body||"",onChange:f,placeholder:"Comment",required:!0})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{htmlFor:"Email"},"Email"),r.a.createElement(E.a.Control,{type:"email",name:"email",value:O.email||"",onChange:f,placeholder:"Email Address",required:!0})),r.a.createElement(p.a,{variant:"success",type:"submit"},"Add Comment"))),r.a.createElement(_e.a.Footer,null,r.a.createElement(p.a,{variant:"dark",type:"button",onClick:t,disabled:!!i},"Close")))},He=a(66),ze=a.n(He),qe=function(e){var t=e.id,a=Object(n.useContext)(ke),c=a.getComments,o=a.clearComments,l=Object(n.useContext)(Ne),m=l.comments,u=l.loading,i=Object(n.useContext)(ie).postsError,d=pe(!1),E=Object(s.a)(d,2),_=E[0],b=E[1];return Object(n.useEffect)((function(){return c(t),function(){o()}}),[c,o,t]),r.a.createElement("div",{className:ze.a.comments},r.a.createElement(H,{isLoading:u,title:"Loading Comments"}),r.a.createElement("p",{className:ze.a.comments__header},m.length," Comments"),m.map((function(e){return r.a.createElement(Re,{key:e.id,id:e.id,name:e.name,email:e.email,body:e.body})})),r.a.createElement(p.a,{className:"mt-3",variant:"success",onClick:b,disabled:!(!i&&!u)},"Add Comment"),_&&r.a.createElement(Fe,{show:_,onHide:b}))},Be=function(e){var t=e.match.params.id;return r.a.createElement(we,null,r.a.createElement(Z,null,r.a.createElement(Le,{id:t}),r.a.createElement(qe,{id:t})))},Ke=a(138),Je=a(140),Ze=function(){return r.a.createElement(te.a,{className:"mt-4"},r.a.createElement(Z,null,r.a.createElement(Ke.a,null,r.a.createElement(Je.a,null,r.a.createElement(Je.a.Header,null,r.a.createElement(Ke.a.Toggle,{as:p.a,variant:"link",eventKey:"0"},"Change Password")),r.a.createElement(Ke.a.Collapse,{eventKey:"0"},r.a.createElement(Je.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"New Password"),r.a.createElement(E.a.Control,{type:"password",name:"password",placeholder:"Enter A New Password",required:!0,minLength:"6"})),r.a.createElement(p.a,{type:"submit"},"Change Password"))))),r.a.createElement(Je.a,null,r.a.createElement(Je.a.Header,null,r.a.createElement(Ke.a.Toggle,{as:p.a,variant:"link",eventKey:"1"},"Change Account Details")),r.a.createElement(Ke.a.Collapse,{eventKey:"1"},r.a.createElement(Je.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Group,{as:re.a,controlId:"email"},r.a.createElement(E.a.Label,null,"Email"),r.a.createElement(E.a.Control,{type:"email",placeholder:"Enter email"})),r.a.createElement(E.a.Group,{as:re.a,controlId:"name"},r.a.createElement(E.a.Label,null,"Name"),r.a.createElement(E.a.Control,{type:"password",placeholder:"Password"}))),r.a.createElement(E.a.Group,{controlId:"address"},r.a.createElement(E.a.Label,null,"Address"),r.a.createElement(E.a.Control,{placeholder:"1234 Main St"})),r.a.createElement(E.a.Group,{controlId:"address2"},r.a.createElement(E.a.Label,null,"Address 2"),r.a.createElement(E.a.Control,{placeholder:"Apartment, studio, or floor"})),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Group,{as:re.a,controlId:"city"},r.a.createElement(E.a.Label,null,"City"),r.a.createElement(E.a.Control,{placeholder:"City"})),r.a.createElement(E.a.Group,{as:re.a,controlId:"zip"},r.a.createElement(E.a.Label,null,"Zip"),r.a.createElement(E.a.Control,{placeholder:"ZIP Code"}))),r.a.createElement(E.a.Group,{controlId:"company"},r.a.createElement(E.a.Label,null,"Company"),r.a.createElement(E.a.Control,{placeholder:"Current Company"})),r.a.createElement(p.a,{variant:"primary",type:"submit"},"Save Account Details"))))))))},We=function(e){var t=Object(n.useContext)(de),a=t.addPost,c=t.resetError,o=t.postActionProgress,l=Object(n.useContext)(ie),m=l.postsMsg,u=l.postsError,i=l.inProgress,d=y(""),_=Object(s.a)(d,2),b=_[0],g=_[1];return r.a.createElement(_e.a,{show:e.show,onHide:i?be:e.onHide,size:"lg",centered:!0},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null,"Add A New Post")),r.a.createElement(_e.a.Body,null,r.a.createElement($,{reset:c,error:u,message:m}),r.a.createElement(H,{isLoading:i,title:"Adding post"}),r.a.createElement(E.a,{onSubmit:function(e){e.preventDefault(),o(),a(b)}},r.a.createElement(E.a.Label,null,"Post Title"),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Control,{type:"text",name:"title",value:b.title||"",onChange:g,placeholder:"Title",required:!0})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Post"),r.a.createElement(E.a.Control,{type:"text",name:"body",value:b.body||"",onChange:g,placeholder:"Body",required:!0})),r.a.createElement(p.a,{type:"submit"},"Submit"))),r.a.createElement(_e.a.Footer,null,r.a.createElement(p.a,{variant:"dark",type:"button",onClick:e.onHide,disabled:!!i},"Close")))},Ye=function(){var e=Object(n.useContext)(O).loggedInUser,t=pe(!1),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement(w,{title:"Hi, ".concat(e)}),r.a.createElement(Ze,null),r.a.createElement(te.a,{className:"mt-4"},r.a.createElement(Z,null,r.a.createElement(p.a,{onClick:o},"Add A New Post"),r.a.createElement(je,null))),c&&r.a.createElement(We,{show:c,onHide:o}))},Qe=function(){return r.a.createElement(te.a,{className:"mt-5"},r.a.createElement(ae.a,{className:"d-flex justify-content-center flex-column align-items-center"},r.a.createElement("h1",{className:"p-4",style:{fontSize:"32px"}},"Error - 404"),r.a.createElement("p",null,"Page Not Found")))},Xe=function(){var e=Object(n.useContext)(f).checkAuth;return Object(n.useEffect)((function(){e()}),[e]),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:ee}),r.a.createElement(m.b,{exact:!0,path:"/login",component:oe}),r.a.createElement(m.b,{exact:!0,path:"/register",component:le}),r.a.createElement(P,{exact:!0,path:"/posts/:id",component:Be}),r.a.createElement(P,{exact:!0,path:"/users/:id/posts",component:Pe}),r.a.createElement(P,{exact:!0,path:"/users/myaccount",component:Ye}),r.a.createElement(m.b,{component:Qe}))},$e=function(){var e=Object(m.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null};var Ve=function(e){return r.a.createElement(Ee,null,r.a.createElement(G,null,r.a.createElement(Ie,null,r.a.createElement(C,null,r.a.createElement(v,null),r.a.createElement($e,null),r.a.createElement(Xe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{basename:"/react-task"},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},25:function(e,t,a){e.exports={user_card__avatar:"user_card_user_card__avatar__1yGMX",user_card__details:"user_card_user_card__details__1jv2a",user_card__name:"user_card_user_card__name__2GGba",user_card__company:"user_card_user_card__company__1NJKF",user_card__address:"user_card_user_card__address__2ESnp",user_card__contact:"user_card_user_card__contact__7zfNQ",user_card__controls:"user_card_user_card__controls__3Wv3g"}},37:function(e,t,a){e.exports={comment:"comment_comment__IE9nb",comment__name:"comment_comment__name__Z6cdi",comment__email:"comment_comment__email__3ODxp",comment__controls:"comment_comment__controls__1edGy"}},61:function(e,t,a){e.exports={posts_card__title:"posts_card_posts_card__title__3mCkD",posts_card__body:"posts_card_posts_card__body__1x8H2",posts_card__controls:"posts_card_posts_card__controls__3_ncO"}},62:function(e,t,a){e.exports={post_content:"post_content_post_content__YPS-r",post_content__title:"post_content_post_content__title__AIyuD",post_content__body:"post_content_post_content__body__1AYon"}},66:function(e,t,a){e.exports={comments__header:"comments_comments__header__1u9iI"}},78:function(e){e.exports=JSON.parse('[{"id":1,"email":"johndoe@email.com","username":"john","password":"password1"},{"id":2,"email":"janedoe@email.com","username":"jane","password":"password2"},{"id":3,"email":"mike@email.com","username":"mike","password":"password3"},{"id":4,"email":"dom@email.com","username":"dom","password":"password4"},{"id":5,"email":"admin@email.com","username":"admin","password":"admin"}]')},83:function(e,t,a){e.exports={header:"header_header__7j6NH"}},85:function(e,t,a){e.exports={grid_container:"grid_container_grid_container__1JCKl"}},86:function(e,t,a){e.exports={card_container:"card_container_card_container__3ApSp"}},88:function(e,t,a){e.exports={centered_div:"centered_div_centered_div__CZ-ir"}},93:function(e,t,a){e.exports=a(125)},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.d551d904.chunk.js.map